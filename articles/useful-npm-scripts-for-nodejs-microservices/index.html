<!doctype html><html><head><title></title><meta name=title content="Fat codes"><meta name=description content="Personal Blog about software engineering, microservices and distributed systems"><meta property="og:type" content="website"><meta property="og:url" content="https://www.fat.codes/"><meta property="og:title" content="Fat codes"><meta property="og:description" content="Personal Blog about software engineering, microservices and distributed systems"><meta property="og:image" content="https://pbs.twimg.com/profile_images/977527947509760001/snSo28Ed_400x400.jpg"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://www.fat.codes/"><meta property="twitter:title" content="Fat codes"><meta property="twitter:description" content="Personal Blog about software engineering, microservices and distributed systems"><meta property="twitter:image" content="https://pbs.twimg.com/profile_images/977527947509760001/snSo28Ed_400x400.jpg"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-22994628-9"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-22994628-9');</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css integrity=sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB crossorigin=anonymous><link href="https://fonts.googleapis.com/css?family=Ubuntu|Ubuntu+Mono" rel=stylesheet><title>Useful Npm Scripts for Nodejs Microservices</title><link rel=stylesheet href=/css/stylesheet.css></head><body><div class=container-fluid><nav class="navbar navbar-expand-md navbar-light"><span class="navbar-brand mb-0 h1"></span><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarNavAltMarkup aria-controls=navbarNav aria-expanded=false aria-label="Toggle Navigation" name=button>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarNavAltMarkup><div class=navbar-nav><a class="nav-item nav-link" href=/>Home</a>
<a class="nav-item nav-link" href=https://github.com/fatmatto target=_blank>GitHub</a>
<a class="nav-item nav-link" href=https://gitlab.com/fatmatto target=_blank>GitLab</a>
<a class="nav-item nav-link" href=/about/>About</a></div></div></nav><section id=page-title><h1><a href=/>Fat Codes</a></h1><span id=author-name><h6>Software engineering related ramblings by <a href=/about/ class=link>fat</a></h6></span></section><div class=blog-post><h1 class=blog-post-title><span>Useful Npm Scripts for Nodejs Microservices</span></h1><div class=blog-post-subheader><time>15 Feb 2019</time></div><div class=blog-post-content><p>When a man without a package.json meets a man with a package.json, the man without a package.json wants one.</p><p>That’s what clint eastwood would say if only he knew about the power of these files!</p><p>This is not properly a blog post, rather a collection of package.json scripts I’ve been using in the last 3–5 years. Please note that these are microservice oriented scripts, so if you are building / maintainging npm packages such as libraries or frameworks, some of these scripts won’t matter to you.</p><p>I will do my best to keep this list up to date with my scripts, and please if you have cool package.json scripts, post it in the comment section!</p><p>I extensively use docker-compose for single-host deployment and for spinning up the expected environment for our microservices.</p><h3 id=running-tests>Running tests</h3><p>The first command is the one used by pre-commit hooks and by yourself when you want to make sure you didn’t screw things up.</p><p>The second is used by your favorite CI/CD pipeline/tool (in my case the dear gitlab-runner)</p><p>The third and the fourth are used by you (or your IDE/Editor) while you are working on a specific portion of code.</p><h3 id=from-build-to-release>From build to release</h3><p>This sections uses a bit of tooling:</p><ul><li><a href=https://eslint.org/>ESLint</a> does not need introductions. We all need it very badly.</li><li>The commit command uses <a href=https://github.com/commitizen/cz-cli>commitzen</a>, check it out</li><li><a href=https://github.com/conventional-changelog/conventional-changelog/tree/master/packages/conventional-changelog-cli>conventional-changelog</a> creates/updates the changelog from your project’s commit history</li><li><a href=https://www.fat.codes/articles/nodejs-microservices-release-script/>release.sh</a> is a scripts that heavily depends on your project, a good point to start is <a href=https://github.com/request/request/blob/master/release.sh>the one from request/request</a>. If you are using a git-based deployment flow, you can control deployments too from the release.sh script.</li></ul></div></div><div><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"fat-codes"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><footer><hr><small>&copy; 2020 fat.
Powered by <a href=https://gohugo.io/ target=_blank>Hugo</a>.</small></footer></div><script src=https://code.jquery.com/jquery-3.3.1.slim.min.js integrity=sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js integrity=sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T crossorigin=anonymous></script></body></html>